{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,oDAAAC,QAAQC,IAAI,mBAaD,MAALC,EAASC,SAASC,cAAc,cAChCC,EAAOF,SAASC,cAAc,Y,IAKGE,EAJvCJ,EAAOK,iBAAiB,SAOxB,SAAkBC,GAChBR,QAAQC,IAAI,SAAUO,EAAMC,OAAOC,M,IAPrCL,EAAKE,iBAAiB,SAcH,SAAFC,GAOA,GANfA,EAAMG,kBAG0F,EAAhGC,EAAAC,iBAAgBL,GAGZA,EAAMC,OAAOK,UAAUC,SAAS,eAAgB,CAClD,MAAMC,GAAU,EAAAC,EAAAC,aAAYV,EAAMC,QAGlC,GADkBU,EAAYC,MAAK,EAACC,GAAEA,KAASA,IAAOL,EAAQK,KAE5D,OAEFF,EAAYG,KAAKN,GACMO,aAAVC,QAAQC,EAAAC,OAAOC,aAAcC,KAAKC,UAAUV,G,CAI5C,GAAXX,EAAMC,OAAOK,UAAUC,SAAS,cAAe,CACjD,MAAMC,GAAU,EAAAC,EAAAC,aAAYV,EAAMC,QAEH,GADbqB,EAAUV,MAAK,EAACC,GAAEA,KAASA,IAAOL,EAAQK,KAE1D,OAEFS,EAAUR,KAAKN,GACfO,aAAaC,QAAQC,EAAAC,OAAOK,WAAYH,KAAKC,UAAUC,G,KArC3D,MAAMX,EAAmE,QAArDb,EAAAsB,KAAKI,MAAMT,aAAaU,QAAQR,EAAAC,OAAOC,sBAAc,IAArDrB,IAAyD,G,IACvB4B,EAAtD,MAAMJ,EAA+D,QAAnDI,EAAAN,KAAKI,MAAMT,aAAaU,QAAQR,EAAAC,OAAOK,oBAAY,IAAnDG,IAAuD,IAOnC,EAAtCC,EAAAC,cAAatC,EAAAuC,QAAahC","sources":["src/module-08-Rysich/practice-08.js"],"sourcesContent":["console.log('8 модуль, Рисіч');\n//   магазин інструменів\n//  ПРАВИЛЬНЕ ЗАКРИТТЯ МОДАЛЬНОГО ВІКНА, З БІБЛІОТЕКИ, ПО ESC\n//----- 2 Shop instruments--------------------\n\n//масив [інструменти]\nimport instruments from './helpers/instruments.js';\n\nimport { common } from './common.js'; //ключі LocalStorage\nimport { createMarkup } from './helpers/createMarkup.js'; //функция розмітка початкової сторінки інструментів\nimport { findProduct } from './helpers/findProduct.js'; //обранний продукт\nimport { selectedProduct } from './helpers/selectedProduct.js';\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nsearch.addEventListener('input', onSearch);\nlist.addEventListener('click', onClick); //делегування, слухаємо: more information, button favorite, button basket\n\n//для LocalStorage\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? []; //якщо в localStorage щось є - виведе, якщо пусто то присвоїть []\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\nfunction onSearch(event) {\n  console.log('input:', event.target.value);\n}\n\n// розмітка початкової сторінки інструментів\ncreateMarkup(instruments, list);\n\n//делегування, слухаємо: more information, add to favorite, add to basket\nfunction onClick(event) {\n  event.preventDefault(); //відміна перезагрузки\n\n  //якщо натиснули на \"more information\": знаходимо продукт по id і виводиться модалка з інформацією про обранний продукт (через бібліотеці)\n  selectedProduct(event);\n\n  //якщо натиснули на \"add to favorite\"\n  if (event.target.classList.contains('js-favorite')) {\n    const product = findProduct(event.target); //занйшли продукт по id, через функцію\n    //не добавляємо продукт якщо він вже є в localStorage\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n    favoriteArr.push(product); //добавляємо продукт в масив\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr)); //JSON.stringify приводить до JSON формату\n  }\n\n  //якщо натиснули на \"Add to basket\"\n  if (event.target.classList.contains('js-bascket')) {\n    const product = findProduct(event.target); //занйшли продукт по id, через функцію\n    const inStorage = basketArr.some(({ id }) => id === product.id); //не добавляємо продукт якщо він вже є в localStorage\n    if (inStorage) {\n      return;\n    }\n    basketArr.push(product); //добавляємо продукт в масив\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n}\n"],"names":["$6ItpW","parcelRequire","console","log","$e7886c50cf0a00bc$var$search","document","querySelector","$e7886c50cf0a00bc$var$list","$e7886c50cf0a00bc$var$ref","addEventListener","event","target","value","preventDefault","$gDU5N","selectedProduct","classList","contains","product","$5GPHz","findProduct","$e7886c50cf0a00bc$var$favoriteArr","some","id","push","localStorage","setItem","$deyUt","common","KEY_FAVORITE","JSON","stringify","$e7886c50cf0a00bc$var$basketArr","KEY_BASKET","parse","getItem","$e7886c50cf0a00bc$var$ref1","$4Pivt","createMarkup","default"],"version":3,"file":"module-08_Rysich.0227fe2c.js.map"}