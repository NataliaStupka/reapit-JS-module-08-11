{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aCCoB,SAAXC,EAAaC,EAAKC,GACzB,IAAIC,EAEFA,EADEF,EAAIG,OACGH,EACNI,KACC,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAGF,EAAHE,IAAKC,EAAIH,EAAJG,K,MACV,oBAEQC,OADDH,EAAG,mDACWG,OAAbF,EAAI,WACVE,OADmBD,EAAK,gDACnBC,OAALD,EAAK,yR,IAUVE,KAAK,IAEE,wBAGZT,EAAKU,UAAYT,C,+BDzBnBU,QAAQC,IAAI,mBAaD,IAM4BC,EANjCC,EAASC,SAASC,cAAc,cAChCC,EAAOF,SAASC,cAAc,YACpCF,EAAOI,iBAAiB,SAOxB,SAAkBC,GAChBR,QAAQC,IAAI,SAAUO,EAAMC,OAAOC,OAInCvB,EAHoBF,EAAA0B,QAAYC,QAAO,SAAAnB,G,OAAOA,EAAJG,KACnCiB,cAAcC,SAASN,EAAMC,OAAOC,M,IAEjBJ,E,IAX5BA,EAAKC,iBAAiB,SAkBH,SAAFC,GAQA,GAPfA,EAAMO,kBAIyD,EAA/DC,EAAAC,iBAAgBT,GAGZA,EAAMC,OAAOS,UAAUC,SAAS,eAAgB,CAClD,IAAMC,GAAU,EAAAC,EAAAC,aAAYd,EAAMC,QAGlC,GADkBc,EAAYC,MAAK,SAAA/B,G,OAAKA,EAAFC,KAAgB0B,EAAQ1B,E,IAE5D,OAEF6B,EAAYE,KAAKL,GACMM,aAAVC,QAAQC,EAAAC,OAAOC,aAAcC,KAAKC,UAAUT,G,CAI5C,GAAXf,EAAMC,OAAOS,UAAUC,SAAS,cAAe,CACjD,IAAMc,GAAU,EAAAZ,EAAAC,aAAYd,EAAMC,QAEH,GADbyB,EAAUV,MAAK,SAAA/B,G,OAAKA,EAAFC,KAAgBuC,EAAQvC,E,IAE1D,OAEFwC,EAAUT,KAAKQ,GACfP,aAAaC,QAAQC,EAAAC,OAAOM,WAAYJ,KAAKC,UAAUE,G,KA1C3D,IACsDE,EADhDb,EAAmE,QAArDrB,EAAA6B,KAAKM,MAAMX,aAAaY,QAAQV,EAAAC,OAAOC,sBAAc,IAArD5B,IAAyD,GACvEgC,EAA+D,QAAnDE,EAAAL,KAAKM,MAAMX,aAAaY,QAAQV,EAAAC,OAAOM,oBAAY,IAAnDC,IAAuD,GAWzEjD,EAAaF,EAAA0B,QAAaL,E","sources":["src/module-08-Rysich/practice-08.js","src/module-08-Rysich/helpers/createMarkup.js"],"sourcesContent":["console.log('8 модуль, Рисіч');\n//   магазин інструменів\n//  ПРАВИЛЬНЕ ЗАКРИТТЯ МОДАЛЬНОГО ВІКНА, З БІБЛІОТЕКИ, ПО ESC\n//----- 2 Shop instruments--------------------\n\n//масив [інструменти]\nimport instruments from './helpers/instruments.js';\n\nimport { common } from './common.js'; //ключі LocalStorage\nimport { createMarkup } from './helpers/createMarkup.js'; //функция розмітка початкової сторінки інструментів\nimport { findProduct } from './helpers/findProduct.js'; //обранний продукт (знаходимо в масиві продуктів)\nimport { selectedProduct } from './helpers/selectedProduct.js'; //'more information';\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nsearch.addEventListener('input', onSearch);\nlist.addEventListener('click', onClick); //делегування, слухаємо: more information, button favorite, button basket\n\n//для LocalStorage\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? []; //якщо в localStorage щось є - виведе, якщо пусто то присвоїть []\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\nfunction onSearch(event) {\n  console.log('input:', event.target.value);\n  const findProduct = instruments.filter(({ name }) =>\n    name.toLowerCase().includes(event.target.value)\n  );\n  createMarkup(findProduct, list);\n}\n\n// розмітка початкової сторінки інструментів\ncreateMarkup(instruments, list);\n\n//делегування, слухаємо: more information, add to favorite, add to basket\nfunction onClick(event) {\n  event.preventDefault(); //відміна перезагрузки\n\n  //якщо натиснули на \"more information\": знаходимо продукт по id\n  // і виводиться модалка з інформацією про обранний продукт(через бібліотеку)\n  selectedProduct(event);\n\n  //якщо натиснули на \"add to favorite\"\n  if (event.target.classList.contains('js-favorite')) {\n    const product = findProduct(event.target); //занйшли продукт по id, через функцію\n    //не добавляємо продукт якщо він вже є в localStorage\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n    favoriteArr.push(product); //добавляємо продукт в масив\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr)); //JSON.stringify приводить до JSON формату\n  }\n\n  //якщо натиснули на \"Add to basket\"\n  if (event.target.classList.contains('js-bascket')) {\n    const product = findProduct(event.target); //занйшли продукт по id, через функцію\n    const inStorage = basketArr.some(({ id }) => id === product.id); //не добавляємо продукт якщо він вже є в localStorage\n    if (inStorage) {\n      return;\n    }\n    basketArr.push(product); //добавляємо продукт в масив\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n}\n","//розмітка інструментів\nfunction createMarkup(arr, list) {\n  let markup;\n  if (arr.length) {\n    markup = arr\n      .map(\n        ({ id, img, name }) =>\n          `\n  <li data-id=\"${id}\" class=\"js-card list__card\">\n      <img src=\"${img}\" alt=\"${name}\" width='300' loading=\"lazy\"/>\n      <h2>${name}</h2>\n      <p >\n        <a class=\"js-info\" href=\"#\">Більше інформації</a>\n      </p>\n      <div class=\"list__button\">\n         <button class=\"js-favorite\">Додати до улюбленного</button>\n        <button class=\"js-bascket\">Додати до корзни</button>\n      </div>\n    </li>`\n      )\n      .join('');\n  } else {\n    markup = `<p>Оберіть товар!</p>`;\n  }\n\n  list.innerHTML = markup;\n}\n\nexport { createMarkup };\n"],"names":["$e0u3g","parcelRequire","$fb05e3e057ba8ba2$export$24783e9f3a24abe4","arr","list","markup","length","map","param","id","img","name","concat","join","innerHTML","console","log","$b497100346ac90ae$var$ref","$b497100346ac90ae$var$search","document","querySelector","$b497100346ac90ae$var$list","addEventListener","event","target","value","default","filter","toLowerCase","includes","preventDefault","$d7EWo","selectedProduct","classList","contains","product","$gLtFn","findProduct","$b497100346ac90ae$var$favoriteArr","some","push","localStorage","setItem","$kiqhF","common","KEY_FAVORITE","JSON","stringify","product1","$b497100346ac90ae$var$basketArr","KEY_BASKET","$b497100346ac90ae$var$ref1","parse","getItem"],"version":3,"file":"module-08_Rysich.06b453e2.js.map"}